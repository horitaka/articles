---
title: "ã€PyCharmã€‘ãƒ•ã‚¡ã‚¤ãƒ«ä¿å­˜æ™‚ã«linterã¨formatterãŒè‡ªå‹•å®Ÿè¡Œã•ã‚Œã‚‹ã‚ˆã†ã«è¨­å®šã™ã‚‹"
emoji: "ğŸŒŸ"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: [Python, PyCharm, Flake8, Black, mypy]
published: true
---

# æ¦‚è¦
æœ€è¿‘ã€Pythonã®é–‹ç™ºã§ä½¿ç”¨ã™ã‚‹ã‚¨ãƒ‡ã‚£ã‚¿ã‚’VSCodeã‹ã‚‰PyCharmã«ä¹—ã‚Šæ›ãˆãŸã®ã§ã€PyCharmã®è¨­å®šã‚’ã—ã¾ã—ãŸã€‚
ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä¿å­˜ã—ãŸã¨ãã«linterã¨formatterãŒè‡ªå‹•å®Ÿè¡Œã•ã‚Œã‚‹ã‚ˆã†ã«è¨­å®šã—ã¾ã—ãŸã€‚

:::message
æ™®æ®µã®ãƒãƒ¼ãƒ é–‹ç™ºã§ã¯PyCharmä»¥å¤–ã®ã‚¨ãƒ‡ã‚£ã‚¿ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹ãƒ¡ãƒ³ãƒãƒ¼ã‚‚ã„ã¾ã™ã€‚ãã®ãŸã‚ã€[pre-commit](https://pre-commit.com/)ã‚’ä½¿ã£ã¦commitæ™‚ã«linterã¨formatterãŒå®Ÿè¡Œã•ã‚Œã‚‹ã‚ˆã†ã«ã—ã¦ã‚³ãƒ¼ãƒ‰ã‚¹ã‚¿ã‚¤ãƒ«ãŒãƒãƒ¼ãƒ å†…ã§çµ±ä¸€ã§ãã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚
:::

**PyCharmã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³**
- Community Edition
- ãƒãƒ¼ã‚¸ãƒ§ãƒ³: 2022.2.3
- ãƒ“ãƒ«ãƒ‰: 222.4345.23

# ä½¿ç”¨ã—ãŸãƒ„ãƒ¼ãƒ«

## ãƒ•ã‚¡ã‚¤ãƒ«ä¿å­˜æ™‚ã«linter/formatterã‚’è‡ªå‹•ã§å®Ÿè¡Œ
[File Watcher](https://www.jetbrains.com/help/idea/using-file-watchers.html)
> File Watcher is an IntelliJ IDEA tool that allows you to automatically run a command-line tool like compilers, formatters, or linters when you change or save a file in the IDE.


## linter / formatter
[Flake8](https://flake8.pycqa.org/en/latest/)
> Your Tool For Style Guide Enforcement

[Black](https://black.readthedocs.io/en/stable/)
> By using Black, you agree to cede control over minutiae of hand-formatting. 

[isort](https://pycqa.github.io/isort/)
> isort is a Python utility / library to sort imports alphabetically, and automatically separated into sections and by type.

[mypy](http://www.mypy-lang.org/)
> Mypy is an optional static type checker for Python that aims to combine the benefits of dynamic (or "duck") typing and static typing.



# è¨­å®šæ‰‹é †

## ãƒ•ã‚¡ã‚¤ãƒ«ä¿å­˜æ™‚ã«è‡ªå‹•ã§linter/formatterãŒå®Ÿè¡Œã•ã‚Œã‚‹ã‚ˆã†ã«ã™ã‚‹

ãƒ•ã‚¡ã‚¤ãƒ«ã®å¤‰æ›´ã‚’ç›£è¦–ã—ã¦ãã‚Œã‚‹[File Watcher](https://www.jetbrains.com/help/idea/using-file-watchers.html)ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚

ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãƒãƒ¼ã‚ˆã‚Šã€PyCharm > Preferencesã‚’é¸æŠã—ã¾ã™ã€‚

pluginsã‚’é¸æŠã—ã€File Watchersã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã€‚

![File Watchersã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«](https://storage.googleapis.com/zenn-user-upload/0b20ec4e6edc-20221106.png)


Toolsã«File WatchersãŒè¿½åŠ ã•ã‚ŒãŸã®ã§ã€ã“ã®ã‚ã¨ã“ã“ã«å„ãƒ„ãƒ¼ãƒ«ã®è¨­å®šã‚’è¨˜è¿°ã—ã¾ã™ã€‚

![File Watchersè¨­å®š](https://storage.googleapis.com/zenn-user-upload/bcbc05a2c3cd-20221106.png)


## linter/formatterã‚’è¨­å®šã™ã‚‹

### Flake8

#### 1. Flake8 - è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ
.flake8ã‚’ä½œæˆã—ã€flake8ã®è¨­å®šã‚’è¨˜è¿°ã—ã¾ã™ã€‚

```toml:.flake8
[flake8]
max-line-length = 100
ignore = W503
```

:::message
.flake8ã®è¨˜è¿°æ–¹æ³•ã¯[Configuring Flake8](https://flake8.pycqa.org/en/latest/user/configuration.html#configuring-flake8)ã‚’ã”è¦§ãã ã•ã„ã€‚
:::

:::message
Flake8ã¯pyproject.tomlã®supportã«å¯¾å¿œã—ã¦ã„ãªã„ã‚ˆã†ãªã®ã§(2022/11/06æ™‚ç‚¹)ã€è¨­å®šã¯.flake8ã«è¨˜è¿°ã—ã¾ã™ã€‚
å‚è€ƒ [pyproject.toml (PEP 518) support](https://github.com/PyCQA/flake8/issues/234))
:::

#### 2. Flake8 - File Watchersè¨­å®š
æ¬¡ã«ã€File Wachersã®è¨­å®šã‚’è¿½åŠ ã—ã¦ã€ãƒ•ã‚¡ã‚¤ãƒ«ä¿å­˜æ™‚ã«Flake8ãŒå®Ÿè¡Œã•ã‚Œã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚

ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãƒãƒ¼ã‚ˆã‚Šã€PyCharm > Preferencesã‚’é¸æŠã—ã¾ã™ã€‚
Tools > File Watchersã‚’é¸æŠã—ã¦ã€+ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¾ã™ã€‚
![File Watchersè¨­å®š](https://storage.googleapis.com/zenn-user-upload/bcbc05a2c3cd-20221106.png)

File Watchersã«ä»¥ä¸‹ã®ã‚ˆã†ã«è¨˜è¿°ã—ã¾ã™ã€‚
![flake8_1](https://storage.googleapis.com/zenn-user-upload/418ac0b0d7de-20221106.png)

:::message
File Watchersã®å„è¨­å®šé …ç›®ã®å†…å®¹ã¯[ã“ã¡ã‚‰](https://www.jetbrains.com/help/idea/using-file-watchers.html#ws_filewatcher_type_and_location_of_input_files)ã‚’ã”è¦§ãã ã•ã„ã€‚
:::

#### 3. Flake8 - å‹•ä½œãƒã‚§ãƒƒã‚¯
ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä¿å­˜ã™ã‚‹ã¨flake8ãŒå®Ÿè¡Œã•ã‚Œã¦ã„ã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚
![flake8_2](https://storage.googleapis.com/zenn-user-upload/86996bc0dd2f-20221106.png)


### Black

#### 1.Black - è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«
pyproject.tomlã‚’ä½œæˆã—ã€Blackã®è¨­å®šã‚’è¨˜è¿°ã—ã¾ã™ã€‚
```toml:pyproject.toml
[tool.black]
line-length = 120
```

:::message
Blackã®è¨­å®šã¯[Usage and Configuration](https://black.readthedocs.io/en/stable/usage_and_configuration/index.html)ã‚’ã”è¦§ãã ã•ã„ã€‚
:::


#### 2. Black - File Watchersè¨­å®š
File Watchersã«ä»¥ä¸‹ã®ã‚ˆã†ã«è¨˜è¿°ã—ã¾ã™ã€‚
![Black_1](https://storage.googleapis.com/zenn-user-upload/d991b06a5bb9-20221106.png)


#### 3. Black - å‹•ä½œãƒã‚§ãƒƒã‚¯
ä»¥ä¸‹ã®ã‚ˆã†ã«ã‚¨ãƒ©ãƒ¼ã¨ãªã‚‹ã‚ˆã†ãªã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã„ã¦ã¿ã¦ã€
![Black_2](https://storage.googleapis.com/zenn-user-upload/b0e66de4314d-20221106.png)

ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä¿å­˜ã™ã‚‹ã¨ã‚¨ãƒ©ãƒ¼ãŒè‡ªå‹•ã§ä¿®æ­£ã•ã‚Œã¾ã™ã€‚
![Black_3](https://storage.googleapis.com/zenn-user-upload/098311999fe7-20221106.png)


### isort
#### 1. isort - è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«
pyproject.tomlã«isortã®è¨­å®šã‚’è¿½åŠ ã—ã¾ã™ã€‚
```toml:pyproject.toml
[tool.isort]
profile = 'black'
```

#### 2. isort - File Watchersè¨­å®š
File Watchersã«ä»¥ä¸‹ã®ã‚ˆã†ã«è¨˜è¿°ã—ã¾ã™ã€‚
![isort_1](https://storage.googleapis.com/zenn-user-upload/ac1147c12657-20221106.png)

#### 3. isort - å‹•ä½œãƒã‚§ãƒƒã‚¯
ä»¥ä¸‹ã®ã‚ˆã†ã«importé †ãŒæ­£ã—ããªã„ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ›¸ã„ã¦ã€
![isort_2](https://storage.googleapis.com/zenn-user-upload/00778d9bc07e-20221106.png)

ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä¿å­˜ã™ã‚‹ã¨importé †ãŒè‡ªå‹•ã§ä¿®æ­£ã•ã‚Œã¾ã™ã€‚
![isort_3](https://storage.googleapis.com/zenn-user-upload/9e8a678c630b-20221106.png)


### mypy
#### 1. mypy - è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«
pyproject.tomlã«mypyã®è¨­å®šã‚’è¿½åŠ ã—ã¾ã™ã€‚
```toml:pyproject.toml
[tool.mypy]
warn_unused_configs = True
```

:::message
mypyã®è¨­å®šã¯[The mypy configuration file](https://mypy.readthedocs.io/en/stable/config_file.html)ã‚’ã”è¦§ãã ã•ã„ã€‚
:::

#### 2. mypy - File Watchersè¨­å®š
File Watchersã«ä»¥ä¸‹ã®ã‚ˆã†ã«è¨˜è¿°ã—ã¾ã™ã€‚
![mypy_1](https://storage.googleapis.com/zenn-user-upload/534cf50cb4c4-20221106.png)

#### 3. mypy - å‹•ä½œãƒã‚§ãƒƒã‚¯
æˆ»ã‚Šå€¤ãŒ`str`ã¨å®šç¾©ã•ã‚Œã¦ã„ã‚‹é–¢æ•°ã§ã€`int`ã‚’è¿”ã™ã‚ˆã†ãªã‚³ãƒ¼ãƒ‰ã‚’æ›¸ãã¨ã€
![mypy_2](https://storage.googleapis.com/zenn-user-upload/a8f42095fd6c-20221106.png)

mypyãŒå®Ÿè¡Œã•ã‚Œã¦ã‚¨ãƒ©ãƒ¼ãŒå‡ºåŠ›ã•ã‚Œã‚‹ã“ã¨ãŒç¢ºèªã§ãã¾ã—ãŸã€‚
![mypy_3](https://storage.googleapis.com/zenn-user-upload/d67bd034b376-20221106.png)

